<div class="admin-dashboard">
  
  <!-- Header -->
  <div class="dashboard-header">
    <div class="container-fluid">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h1 class="dashboard-title">
            <i class="fas fa-tachometer-alt me-3"></i>
            Panel de Administración
          </h1>
          <p class="dashboard-subtitle">Bienvenido al panel de control de Qorikusi</p>
        </div>
        <div class="col-md-6 text-end">
          <button class="btn btn-primary-custom" routerLink="/admin/products/new">
            <i class="fas fa-plus me-2"></i>
            Nuevo Producto
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid py-4">
    
    <!-- Loader -->
    <div *ngIf="loading" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Cargando...</span>
      </div>
      <p class="mt-3">Cargando estadísticas...</p>
    </div>

    <!-- Error -->
    <div *ngIf="error" class="alert alert-danger" role="alert">
      <i class="fas fa-exclamation-circle me-2"></i>
      {{ error }}
      <button class="btn btn-sm btn-outline-danger ms-3" (click)="cargarEstadisticas()">
        Reintentar
      </button>
    </div>

    <!-- Dashboard Content -->
    <div *ngIf="!loading && !error">
      
      <!-- Stats Cards -->
      <div class="row mb-4">
        
        <!-- Total Productos -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="stat-card stat-primary">
            <div class="stat-icon">
              <i class="fas fa-box"></i>
            </div>
            <div class="stat-info">
              <h3 class="stat-value">{{ totalProductos }}</h3>
              <p class="stat-label">Total Productos</p>
            </div>
          </div>
        </div>

        <!-- Productos Activos -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="stat-card stat-success">
            <div class="stat-icon">
              <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-info">
              <h3 class="stat-value">{{ productosActivos }}</h3>
              <p class="stat-label">Productos Activos</p>
            </div>
          </div>
        </div>

        <!-- Stock Bajo -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="stat-card stat-warning">
            <div class="stat-icon">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="stat-info">
              <h3 class="stat-value">{{ productosStockBajo }}</h3>
              <p class="stat-label">Stock Bajo</p>
            </div>
          </div>
        </div>

        <!-- Valor Inventario -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="stat-card stat-info">
            <div class="stat-icon">
              <i class="fas fa-dollar-sign"></i>
            </div>
            <div class="stat-info">
              <h3 class="stat-value">S/. {{ valorInventario | number:'1.2-2' }}</h3>
              <p class="stat-label">Valor Inventario</p>
            </div>
          </div>
        </div>

      </div>

      <!-- Quick Actions -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="quick-actions-card">
            <h4 class="card-title mb-4">
              <i class="fas fa-bolt me-2"></i>
              Acciones Rápidas
            </h4>
            <div class="row">
              
              <div class="col-md-4 mb-3">
                <a routerLink="/admin/products" class="action-link">
                  <div class="action-item">
                    <i class="fas fa-boxes fa-2x mb-3"></i>
                    <h5>Gestionar Productos</h5>
                    <p>Ver, editar y eliminar productos</p>
                  </div>
                </a>
              </div>

              <div class="col-md-4 mb-3">
                <a routerLink="/admin/products/new" class="action-link">
                  <div class="action-item">
                    <i class="fas fa-plus-circle fa-2x mb-3"></i>
                    <h5>Crear Producto</h5>
                    <p>Agregar un nuevo producto al catálogo</p>
                  </div>
                </a>
              </div>

              <div class="col-md-4 mb-3">
                <a routerLink="/admin/categories" class="action-link">
                  <div class="action-item">
                    <i class="fas fa-tags fa-2x mb-3"></i>
                    <h5>Gestionar Categorías</h5>
                    <p>Administrar categorías de productos</p>
                  </div>
                </a>
              </div>

            </div>
          </div>
        </div>
      </div>

      <!-- Additional Stats -->
      <div class="row">
        
        <!-- Resumen de Estado -->
        <div class="col-md-6 mb-4">
          <div class="info-card">
            <h4 class="card-title mb-4">
              <i class="fas fa-chart-pie me-2"></i>
              Resumen de Estado
            </h4>
            <div class="stat-row">
              <span class="stat-row-label">
                <i class="fas fa-circle text-success me-2"></i>
                Productos Activos
              </span>
              <span class="stat-row-value">{{ productosActivos }}</span>
            </div>
            <div class="stat-row">
              <span class="stat-row-label">
                <i class="fas fa-circle text-danger me-2"></i>
                Productos Inactivos
              </span>
              <span class="stat-row-value">{{ productosInactivos }}</span>
            </div>
            <div class="stat-row">
              <span class="stat-row-label">
                <i class="fas fa-circle text-warning me-2"></i>
                Stock Bajo (< 5 unidades)
              </span>
              <span class="stat-row-value">{{ productosStockBajo }}</span>
            </div>
            <div class="stat-row">
              <span class="stat-row-label">
                <i class="fas fa-circle text-info me-2"></i>
                Total Categorías
              </span>
              <span class="stat-row-value">{{ totalCategorias }}</span>
            </div>
          </div>
        </div>

        <!-- Navegación Rápida -->
        <div class="col-md-6 mb-4">
          <div class="info-card">
            <h4 class="card-title mb-4">
              <i class="fas fa-compass me-2"></i>
              Navegación Rápida
            </h4>
            <div class="nav-links">
              <a routerLink="/products" class="nav-link-item">
                <i class="fas fa-store me-2"></i>
                Ver Tienda Pública
              </a>
              <a routerLink="/admin/products" class="nav-link-item">
                <i class="fas fa-list me-2"></i>
                Lista de Productos
              </a>
              <a routerLink="/admin/categories" class="nav-link-item">
                <i class="fas fa-folder me-2"></i>
                Lista de Categorías
              </a>
              <a routerLink="/" class="nav-link-item">
                <i class="fas fa-home me-2"></i>
                Volver al Inicio
              </a>
            </div>
          </div>
        </div>

      </div>

    </div>

  </div>

</div>
